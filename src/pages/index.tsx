import type { NextPage } from "next";
import { useSession } from "next-auth/react";
import Head from "next/head";
import { trpc } from "../utils/trpc";

// react bootstrap
import Container from "react-bootstrap/Container";
import Row from "react-bootstrap/Row";
import Col from "react-bootstrap/Col";
import Header from "../compontents/Header";
import FinalsCol from "../compontents/FinalsCol";
import AvailableCol from "../compontents/AvailableCol";
import WishList from "../compontents/WishList";

const Home: NextPage = () => {
  //state

  // queries
  const { data: session } = useSession();
  // const {data: userData} = trpc.useQuery([""])
  const { data: unavailable } = trpc.useQuery(["movie.getUnavailable"]);
  const { data: available } = trpc.useQuery(["movie.getAvailable"]);
  const { data: picked } = trpc.useQuery(["movie.getPicked"]);

  // mutations

  return (
    <div className="bg-blue-1">
      <Head>
        <title>Shit Screen</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <header className="container flex justify-between">
        <Header session={session} />
      </header>

      <main className="container m-0">
        <Container className="bg-blue-1">
          <Row>
            <Col className="w-4/12">
              <FinalsCol picked={picked} session={session} />
            </Col>

            <Col className="w-4/12">
              <AvailableCol available={available} session={session} />
            </Col>

            <Col className="w-4/12">
              <WishList unavailable={unavailable} session={session} />
            </Col>
          </Row>
        </Container>
      </main>
    </div>
  );
};

export default Home;
